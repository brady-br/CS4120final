<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /Users/atharsefid/Desktop/grobid-0.5.3/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.5.3" ident="GROBID" when="2020-09-29T04:24+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Quantifying Causal Effects on Query Answering in Databases</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Babak</forename><surname>Salimi</surname></persName>
							<email>bsalimi@cs.washington.edu</email>
							<affiliation key="aff0">
								<orgName type="institution">University of Washington</orgName>
								<address>
									<settlement>Seattle</settlement>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Leopoldo</forename><surname>Bertossi</surname></persName>
							<email>bertossi@scs.carleton.ca</email>
							<affiliation key="aff1">
								<orgName type="institution">Carleton University</orgName>
								<address>
									<settlement>Ottawa</settlement>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Dan</forename><surname>Suciu</surname></persName>
							<email>suciu@cs.washington.edu</email>
							<affiliation key="aff2">
								<orgName type="institution">University of Washington</orgName>
								<address>
									<settlement>Seattle</settlement>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Guy</forename><surname>Van Den Broeck</surname></persName>
							<affiliation key="aff3">
								<orgName type="institution">University of California</orgName>
								<address>
									<settlement>Los Angeles</settlement>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Quantifying Causal Effects on Query Answering in Databases</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<abstract>
				<p>The notion of actual causation, as formalized by Halpern and Pearl, has been recently applied to relational databases, to characterize and compute actual causes for possibly unexpected answers to monotone queries. Causes take the form of database tuples, and can be ranked according to their causal responsibility, a numerical measure of their relevance as a cause for the query answer. In this work we revisit this notion, introducing and making a case for an alternative measure of causal contribution, that of causal effect. In doing so, we generalize the notion of actual cause, in particular, going beyond monotone queries. We show that causal effect provides intuitive and intended results.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.">Introduction</head><p>The central aim of many scientific disciplines, ranging from philosophy through law and physiology to computer science, is the elucidation of cause-effect relationships among variables or events. In data management in particular, there is a need to represent, characterize and compute causes that explain why certain query results are obtained or not. The notion of causality-based explanation for a query result was introduced in <ref type="bibr" target="#b15">[16]</ref>, on the basis of the deeper concepts of counterfactual and actual causation introduced by Halpern and Pearl in <ref type="bibr" target="#b12">[13]</ref>, which we call HP-causality. We will refer to this notion as query-answer causality, or simply, QA-causality.</p><p>Intuitively, a database atom (or simply, a tuple) τ is an actual cause for an answer ¯ a to a monotone query Q from a relational database instance D if there is a "contingent" subset of tuples Γ , accompanying τ , such that after removing Γ from D: (a) ¯ a is still an answer to the query, and (b) further removing τ from D Γ , makes ¯ a not an answer to the query anymore. (I.e. τ is a counterfactual cause under D Γ .)</p><p>In <ref type="bibr" target="#b15">[16]</ref>, the notion of causal responsibility in databases was introduced, to provide a metric to quantify the causal contribution, as a numerical degree, of a tuple to a query answer. This responsibility-based ranking is considered as one of the most important contributions of HP-causality and its extension <ref type="bibr" target="#b6">[7]</ref> to data management <ref type="bibr" target="#b14">[15]</ref>. In informal terms, causal responsibility as in <ref type="bibr" target="#b6">[7]</ref> Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. tells us that, for variables A and B, the degree of responsibility of A for B should be 1</p><formula xml:id="formula_0">(N +1)</formula><p>, where N is the minimum number of changes that have to be made on other variables to obtain a situation where B counterfactually, directly depends on A. In the case of databases, the responsibility of a cause τ for an answer ¯ a, is defined as 1</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>1+|Γ |</head><p>, where Γ is a smallest-size contingency set for τ . Apart from the explicit use of causality, most of the related research on explanations for query results has concentrated on data provenance <ref type="bibr" target="#b2">[3,</ref><ref type="bibr" target="#b3">4,</ref><ref type="bibr" target="#b7">8,</ref><ref type="bibr" target="#b13">14]</ref>. Causality has been discussed in relation to data provenance <ref type="bibr" target="#b15">[16,</ref><ref type="bibr" target="#b14">15]</ref> and workflow provenance <ref type="bibr" target="#b5">[6]</ref>. Specifically, in <ref type="bibr" target="#b15">[16]</ref> a close connection between QA-causality and why-provenance (in the sense of <ref type="bibr" target="#b2">[3]</ref>) was established.</p><p>In a different direction, correspondences between causal responsibility and other concepts and problems in databases, e.g. the viewupdate problem and database repairs have been established in <ref type="bibr" target="#b18">[19,</ref><ref type="bibr" target="#b19">20,</ref><ref type="bibr" target="#b4">5,</ref><ref type="bibr" target="#b20">21]</ref>. The underlying reason for these connections is the need to perform a minimal set or minimum number of changes on the database, so that the resulting state of the database has a desired property. Accordingly, we can see that actual causality and causal responsibility are indeed important concepts that may unify several problems in data management.</p><p>The notion of causal responsibility as introduced in <ref type="bibr" target="#b6">[7]</ref> has been subject to some criticism lately <ref type="bibr" target="#b22">[23,</ref><ref type="bibr" target="#b1">2,</ref><ref type="bibr" target="#b11">12,</ref><ref type="bibr" target="#b17">18]</ref>. In the context of databases, it has been shown in <ref type="bibr" target="#b17">[18]</ref> that causal responsibility only partially fulfils the original intention of adequately ranking tuples according to their causal contribution to an answer. We illustrate some of these issues by means of an example (for others and a discussion, see <ref type="bibr" target="#b17">[18]</ref>).</p><formula xml:id="formula_1">E A B t 1 a b t 2 a c t 3 c b t 4 a d t 5 d e t 6 e b</formula><p>Figure 1: Instance D and its associated graph G Example 1. Consider instance D with a single binary relation E as in <ref type="figure">Figure 1</ref>. For simplicity, we use the identifiers, t1-t6, to refer to the database tuples. Instance D can be represented as the directed graph G(V, E) in <ref type="figure">Figure 1</ref>, where V is the active domain of D, and E contains an edge (v1, v2) iff E(v1, v2) ∈ D. Tuple identifiers are used as labels for the corresponding edges in the graph. Now consider query, Q asking if there exists a path between a and b. This query is monotone, Boolean (i.e. it has a true/false answer), and can be expressed in recursive Datalog. The answer is true in D. All the tuples are actual causes for this answer, with the same causal responsibility: 1 3 . However, since t1 provides a direct connection, it makes sense to claim that t1 contributes more to this answer than the other tuples. Intuitively, tuples that belong to shorter paths between a and b contribute more to the answer than tuples that belong to longer paths.</p><p>In this work we introduce the notion of causal effect in the context QA-causality in databases. Causal effect refers to the extent to which an input variable has a direct influence or drive on the next state of a output variable, i.e. addressing questions of the form: "If we change the state of the input, to what extent does that alter the state of the output?". To achieve this goal, we start from the central notion of causal effect that is used in the theory of causal inference proposed in <ref type="bibr" target="#b16">[17]</ref>. Introducing it in the context QA-causality in databases allows us to define and investigate the notion of causal effect of a tuple on the answer to a Boolean query.</p><p>We show that, in databases, causal effect subsumes the notion of actual causal as introduced in <ref type="bibr" target="#b15">[16]</ref>, and can be sensibly applied not only to monotone queries, but also to first-order queries with negation, and to aggregate queries. Furthermore, we illustrate, by means of several examples, that this notion provides an intuitive and informative alternative to causal responsibility when ranking causes according to their causal contribution to a query result.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.">Preliminaries</head><p>We consider relational database schemas of the form S = (U, P), where U is a finite database domain of constants and P is a finite set of database predicates of fixed arities. In some cases, we may also have built-in predicates, e.g. =, that we leave implicit. A database instance D compatible with S can be seen as a finite set of ground atomic formulas of the form P (c1, ..., cn), where P ∈ P has arity n, and c1, . . . , cn ∈ U . In databases these formulas are usually called atoms or tuples. They will be denoted with τ, τ1, . . .. The active domain of an instance D, denoted Adom(D), is the finite set of constants from U that appear in D.</p><p>In this work, we will mostly consider first-order (FO) queries, that is, formulas Q(¯ x) of the language of FO predicate logic, L(S), associated to S. In Q(¯ x), ¯ x shows all the free variables in the formula. If ¯ x is non-empty, the query is open. If ¯ x is empty, the query is Boolean, i.e. a sentence, in which case, the answer is true or false in a database, denoted by D |= Q and D |= Q, respectively. A sequence ¯ c of constants is an answer to an open query Q(¯ x) if D |= Q[¯ c], i.e. the query becomes true in D when the variables are replaced by the corresponding constants in ¯ c. We denote with Q(D) the set of all answers to query Q(¯ x).</p><p>In particular, a conjunctive query (CQ) is a formula of the form Q(¯ x) : ∃¯ y(P1(¯ s1) ∧ · · · ∧ Pm(¯ sm)), where the Pi(¯ si) are atomic formulas, i.e. Pi ∈ P, and the ¯ si are sequences of terms, i.e. variables or constants. <ref type="bibr" target="#b0">1</ref> When ¯ x is empty, the query is Boolean conjunctive query (BCQ).</p><p>A query Q is monotone if for every two instances D1 ⊆ D2, Q(D1) ⊆ Q(D2), i.e. the set of answers grows monotonically with the instance. For example, CQs and unions of CQs (UCQs) are monotone. Datalog queries <ref type="bibr" target="#b0">[1]</ref>, although not always expressible as FO queries, are also monotone. Although most of the work on QA-causality has concentrated on monotone queries, in this work we will also consider non-monotone queries. Now we review the notions of QA-causality and responsibility as introduced in <ref type="bibr" target="#b15">[16]</ref>. Assume the relational instance D is split in two disjoint sets: D = D n ∪ D x , where D n and D x are the <ref type="bibr" target="#b0">1</ref> We say it explicitly when we allow the P i to be built-ins. sets of endogenous and exogenous tuples, respectively. 2 Let Q be a monotone Boolean query. A tuple τ ∈ D n is a counterfactual cause for an answer</p><formula xml:id="formula_2">Q in D if D |= Q, but D {τ } |= Q. A tuple τ ∈ D n is an actual cause for Q if there exists Γ ⊆ D n , called a contingency set, such that τ is a counterfactual cause for Q in D Γ . The causal responsibility of a tuple τ for answer ¯ a, denoted ρ Q (τ ), is 1 1+|Γ |</formula><p>, where |Γ | is a smallest-size contingency set for τ . When τ is not an actual cause for ¯ a, no contingency set is associated to τ . In this case, ρ Q (τ ) is defined as 0.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.1">Lineage of a query</head><p>The lineage (expression) of a Boolean FO query Q, as used in probabilistic databases <ref type="bibr" target="#b9">[10]</ref>, is a propositional formula, ΦQ, over the finitely many potential tuples in an arbitrary database instance for the schema at hand, i.e. all tuples τ : P (c1, . . . , cn), with n-ary P ∈ P and c1, . . . , cn ∈ U . For each such a τ , we introduce a propositional a propositional variable Xτ (aka. a propositional atom). Var (S, U ) denotes the set of variables associated to tuples. It depends on the schema and data domain, and determines a propositional language L(Var (S, U )).</p><p>Formula ΦQ expresses which input tuples must be present in the database and which tuples must be absent from it for the query to be true. ΦQ is defined inductively for first-order (FO) queries Q, as follows: 1. If Q is a tuple τ , Φτ := Xτ . 2. Φa=a := true.</p><formula xml:id="formula_3">3. Φ a=b := false. 4. ΦQ∧Q 2 := ΦQ 1 ∧ ΦQ 2 . 5. ΦQ 1 ∨Q 2 := ΦQ 1 ∨ ΦQ 2 . 6. Φ ∃xQ := c∈U Φ Q[ c x ] . 7. Φ¬Q := ¬(ΦQ).</formula><p>For a query Q, Var (ΦQ) denotes the set of propositional variables in ΦQ. Clearly, Var (ΦQ) ⊆ Var (S, U ).</p><p>We can make the lineage of a query depend on the instance D at hand, by assigning -at least conceptually-truth values to some of the variables appearing in ΦQ depending on the contents of D. </p><formula xml:id="formula_4">D) = (X R(a,b) ∧ ¬X S(b) ) ∨ (X R(c,b) ∧ ¬X S(b) ), with Var D (ΦQ(D)) = {X R(a,b) , X S(b) , X R(c,b) , X S(b) }.</formula><p>For monotone FO queries, this instantiated lineage corresponds to the PosBool provenance semi-ring <ref type="bibr" target="#b13">[14]</ref>, and is related to the minimal-witness-basis, or why-provenance <ref type="bibr" target="#b2">[3]</ref>. Notice that lineage can be naively extended to Datalog queries by considering the ground instantiation of a program and disjunctively collecting paths from the query goal all the way down, through backwardpropagation via the ground propositional rules, to the ground extensional tuples τ , for which variables Xτ are introduced.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.">Interventions and Causal Effect</head><p>HP-causality <ref type="bibr" target="#b12">[13]</ref>, which is the basis for the notion of QA-causality in <ref type="bibr" target="#b15">[16]</ref>, provides a "structural" model of actual causation. According to that approach, a causal model of a particular domain is represented in terms of variables, say A, B, ..., their values, and a set of structural equations representing causal relationships between variables <ref type="bibr" target="#b12">[13]</ref>. In this context, the statement "A is an actual cause for B" claims that there is a set of possible interventions (or contingencies) on the causal model that makes B counterfactually depend on A. That is, had A not happened, B wouldn't have happened.</p><p>In QA-causality, counterfactual questions take concrete forms, such as: "What would be (or how would change) the answer to a query Q if the tuple τ is deleted/inserted from/into the database D?" A question like this can be addressed by building a corresponding causal model, which, for a query Q and instance D, becomes the combination of the query lineage ΦQ(D) and the truth assignment σ D determined by D (Xτ is true iff τ ∈ D). This models captures the causal relationships between database tuples (or their propositional variables) and Q.</p><p>The interventions that represent counterfactual hypothesis become, in this context, insertions or deletions of database tuples τ , which change the truth values originally assigned by σ D to the propositional variables Xτ appearing in the query lineage ΦQ(D).</p><p>Informally for the moment, interventions will be assignments If we consider that assignments can be randomly and uniformly chosen, we obtain a probability space, with outcome space Ω = {σ | σ : Var (ΦQ(D)) → {0, 1}}, and P the uniform distribution.</p><p>Next, we can use Pearl's notation for interventions <ref type="bibr" target="#b16">[17]</ref>, i.e. expressions of the form do(Xτ = x), where x ∈ {0, 1}. It denotes the intervention that makes Xτ take value 1 (i.e. becomes true) or 0 (i.e. becomes false), corresponding to inserting or deleting τ into/from a database instance, respectively. This notation can be generalized for multiple, simultaneous interventions, with the obvious meaning, to: do( ¯ X) = ¯ x, where ¯ X ⊆ Var (ΦQ(D)) is a list of m different variables, and ¯ x ∈ {0, 1} m . More technically, an intervention do( ¯ X = ¯ x) becomes an event (a subset of Ω):</p><formula xml:id="formula_5">do( ¯ X = ¯ x) := {σ ∈ Ω | (σ(X)) X∈ ¯ X = ¯ x}.</formula><p>Query Q can be seen as a Bernouilli random variable: Q : Ω → {0, 1}, defined by Q(σ) = 1 iff σ |= ΦQ. Accordingly, for y ∈ {0, 1}, we may consider the event "Q = y" := {σ ∈ Ω | Q(σ) = y}. Furthermore, we obtain properly defined conditional probabilities of the form P (Q = y | do( ¯ X = ¯ x)). For a tuple τ and a value v for Xτ , we can compute the socalled interventional conditional expectation of (the truth value of) Q, namely: E(Q | do(Xτ = v)) = P (Q = 1| do(Xτ = v)).</p><p>In database causality, some tuples are endogenous and others exogenous, but our assignments σ on the set of variables do not make such a distinction. In the following, the expected value will be conditioned on the exogenous variables (those in Var x (ΦQ(D))) taking the value 1 when positive, and value 0 when negative. Accordingly, for an endogenous tuple τ , we redefine:</p><formula xml:id="formula_6">E(Q | do(Xτ = v)) := E(Q | do(Xτ = v) ∩ (1) X τ ∈Var x,+ (Φ Q (D)) do(X τ = 1) ∩ X τ ∈Var x,− (Φ Q (D)) do(X τ = 0 )).</formula><p>In the following, we assume that conditional expectations are conditioned on exogenous tuples as in (1). We can now define a measure of the causal effect of an intervention <ref type="bibr" target="#b16">[17]</ref> in terms of the average difference between the effects of two interventions.</p><p>Definition 1. Let D be an instance, Q a Boolean FO query, and τ ∈ D n . The causal effect of tuple τ on Q in D is: </p><formula xml:id="formula_7">E D τ,Q := E(Q | do(Xτ = v)) − E(Q | do(Xτ = 1 − v)),<label>(</label></formula><formula xml:id="formula_8">Q than τ if E D τ,Q &gt; E τ ,Q .</formula><p>Notice than the definition of causal effect does not require the query to be true in the given instance D. We claim that causal effect captures the notion of actual cause. </p><formula xml:id="formula_9">D) = (X R(a,b) ∧ ¬X S(b) ) ∨ (X R(v,b) ∧ ¬X S(b) ). If all tuples are endogenous, E D R(a,b),Q = E D R(c,b),Q = 0.25</formula><p>, and E D ¬S(b),Q = 0.75. Our next example shows that causal effect can be applied to queries with aggregation. First notice that, in order to compute the effect of intervention, we do not have to materialize and process the lineage. Each intervention specifies an instance to which the query can be posed and evaluated. This allows us to naturally extend causal effect to aggregate queries. Finally, we point out that causal effect can be applied to Datalog queries, as that in Example 1, where we obtain: It turns out that there is a close numerical connection between casual effect as introduced above and Pearson's correlation coefficient. This follows from the fact that the probability of any propositional formula, so as its conditional probability on a given variable, is a multi-linear polynomial in its variables <ref type="bibr" target="#b9">[10]</ref>. Causal effect accounts only for the "linear interaction" between a tuple and a query answer. More specifically, it computes the shift of the mean of a query answer due to inserting/deleting a tuple into/from a database (on the space of random interventions on the remaining tuples). However, inserting/deleting a tuple might change higher-order moments of the query answer distribution.</p><formula xml:id="formula_10">E D t 1 ,Q = 0.65625, E D t 2 ,Q = E D t 3 ,Q = 0.21875, and E D t 2 ,Q = E D t 2 ,Q = E D t 2 ,Q = 0.09375.</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.">Causal Effect and Pearson Correlation</head><p>Causal effect can properly deal with FO queries (due to the multi-linearity of their lineages) and linear aggregate queries. To deal with non-linear aggregate queries, we plan to use information theoretic approaches to quantify causal influence <ref type="bibr" target="#b8">[9]</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="5.">Conclusions and Related Work</head><p>In <ref type="bibr" target="#b10">[11]</ref> it is argued that people use something similar to the intuition behind degree of responsibility (in the sense of <ref type="bibr" target="#b6">[7]</ref>) to ascribe responsibilities. In <ref type="bibr" target="#b22">[23]</ref>, it is pointed out that people take into account not only the number of changes required to make A a counterfactual cause for B, but also the number of ways to reach a situation where B counterfactually depends on A. In <ref type="bibr" target="#b11">[12]</ref> it is claimed that, while causal responsibility (in the sense of <ref type="bibr" target="#b6">[7]</ref>) does capture some natural intuitions, still alternative definitions might be more appropriate for some applications.</p><p>Not surprisingly, much research on causal responsibility can be found in law literature <ref type="bibr" target="#b21">[22,</ref><ref type="bibr" target="#b1">2]</ref>. However, in no numerical quantification has been proposed, except for the work of <ref type="bibr" target="#b1">[2]</ref>.</p><p>In <ref type="bibr" target="#b17">[18]</ref>, the notion of degree of causal contribution has been introduced in the context of databases. This notion is defined based on the number of contingency sets associated to a tuple and shown to be closely related to the proposal in <ref type="bibr" target="#b1">[2]</ref> and confirms the intuition behind <ref type="bibr" target="#b22">[23]</ref>. It is not difficult to show that the notion of causal effect as introduced in this paper generalizes that of <ref type="bibr" target="#b17">[18]</ref>.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>TaPP 2016 ,</head><label>2016</label><figDesc>June 8-9, 2016, Washington, DC. Copyright remains with the owner/author(s).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head></head><label></label><figDesc>More specifically, under the assumption that negation appears only in front of propositional variables (producing negative literals), the D-lineage of Q, denoted ΦQ(D) is obtained from ΦQ by: (a) Making false each positive occurrence of variable Xτ for which τ / ∈ D. (b) Making each ¬Xτ false for which τ ∈ D. We denote with Var D (ΦQ(D)) the set of variables in ΦQ(D). We will assume that: (a) a variable Xτ never appears both positively and negatively in ΦQ(D); and (b) every τ / ∈ D that appears negatively in ΦQ(D) is considered to be endogenous. (Then, endogenous tuples are those in D n plus some outside the instance at hand.) Example 2. Consider an schema with two relations, R(A, B) and S(B), instance D = {R(a, b), R(a, c), R(c, b), S(c)}, with data domain U = {a, b, c}, and the Boolean query Q : ∃x(R(x, y) ∧ ¬S(y)), which has answer true in D. We obtain the follow- ing "instantiated" lineage: ΦQ(</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head></head><label></label><figDesc>(or changes) of truth values to (some of) the variables in the lineage. At some point later on, we will deal with the truth values assigned to variables in Var x (ΦQ(D)), the set of variables in Var (ΦQ(D)) corresponding to exogenous tuples. Positive "exogenous variables" in ΦQ(D) form the set Var x,+ (ΦQ(D)), and negative ones, the set Var x,− (ΦQ(D)). Instead of dealing with these variables at the lineage level, we will consider the values interventions assign to them (see (1) below). Now, an intervention on an instance D wrt. a Boolean query Q can be represented by a truth assignment σ : Var (ΦQ(D)) → {0, 1}. The intervention Iσ on D associated to σ is the restriction of σ to those variables Xτ such that σ(Xτ ) = σ D (Xτ ). That is, Iσ represents only the changes of truth values, i.e. insertions or deletions of tuples into/from D. Then, the set of variables that change values wrt. D becomes the domain of Iσ.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3"><head></head><label></label><figDesc>Intuitively, E D τ,Q shows how deleting an existing tuple from instance D or inserting an absent tuple into D affects the mean of the distribution of Q (the expectation taken in the space of random interventions on the remaining tuples). Proposition 1. Let D be an instance, Q a Boolean FO query, and τ ∈ D n . It holds E D τ,Q ≥ 0. We will say that a tuple has a causal effect on Q in D when E D τ,Q &gt; 0. Causal effect allows us to compare the causal con- tribution of tuples: τ has higher causal effect on</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4"><head>Proposition 2 .</head><label>2</label><figDesc>Let D be an instance, Q a monotone Boolean FO query with D |= Q, and τ ∈ D n . It holds: τ is an actual cause for Q in D iff τ has positive causal effect on Q in D. Example 3. (ex. 1 cont.) We can compute the causal effects of tuples in D on the query Q asking if there is a path between a and b. Here, ΦQ(D) = Xt 1 ∨ (Xt 2 ∧ Xt 3 ) ∨ (Xt 4 ∧ Xt 5 ∧ Xt 6 ). Assuming all tuples are endogenous, E DExample 4. (ex. 2 cont.) Here, ΦQ(</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5"><head>Example 5 .</head><label>5</label><figDesc>Consider an instance D with a unary relation R = {450, 150, 100, −100}, an the Boolean query Q: select true from R having sum(A) &gt; 500, asking if the sum of values in R is greater than 500. This non- monotone query (tuple insertions may invalidate a previous an- swer) has answer true, with all numbers in R contributing to it, but with different causal effects: E D R(450),Q = 0.625, E D R(150),Q = 0.375, E D R(100),Q = 0.125, and E D R(−100),Q = −0.125. The neg- ative effect of R(−100) means the tuple has a negative causal impact on the query outcome, which is intuitive. Now consider the query Q : select AVG(A) from R. Here, E D R(450),Q = 112.5, E D R(150),Q = 37.5, E D R(100),Q = 25, and E D R(−100),Q = −25.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6"><head></head><label></label><figDesc>In Statistics, the Pearson's correlation coefficient is a measure of the linear dependence between two random variables X and Y . It is defined by rX,Y = Cov (X,Y ) σ X σ Y , where Cov (X, Y ) := E((X − µX )(Y −µY )) is the covariance of X, Y , µX , µY are the expected values of X, Y , and σX , σY their standard deviations.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_7"><head>Proposition 3 .</head><label>3</label><figDesc>Let D be an instance, Q a Boolean FO query. It holds: (a) If τ is endogenous and Xτ appears positively in ΦQ(D): E D τ,Q = rQ,X τ × σ Q σ Xτ . (b) If τ is endogenous and appears negatively in ΦQ(D): E D τ,Q = −rQ,X τ × σ Q σ Xτ . Here, Q and Xτ are treated as Bernouilli random variables on space Ω. Unlike causal effect, Pearson's correlation coefficient is a nor- malized real-valued measure. For monotone queries, it takes values between 0 and 1. Then, we may use this correlation coefficient as a measure of the normalized causal effect of a tuple on a query. Example 6. (ex. 5 cont.) The Pearson's correlation coefficients between the variables X R(n) and the aggregate Q as a ran- dom variable are: r D X R(450) ,Q = 0.9091373, r D X R(150) ,Q = 0.3030458, r D X R(100) ,Q = 0.2020305, and r D X R(−100) ,Q = −0.2020305.</figDesc></figure>

			<note place="foot" n="2"> Endogenous tuples are admissible, possible candidates for causes, as opposed to exogenous tuples. The partition is application-dependent and captures predetermined factors, such as users preferences that may affect QAcausal analysis.</note>

			<note place="foot">t 1 ,Q = 0.65625, E D t 2 ,Q = E D t 3 ,Q = 0.21875, and E D t 4 ,Q = E D t 5 ,Q = E D t 6 ,Q = 0.09375. The notion of causal effect can handle non-monotone queries.</note>
		</body>
		<back>
			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<monogr>
		<title level="m" type="main">Foundations of Databases</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Abiteboul</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Hull</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">V</forename><surname>Vianu</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1995" />
			<publisher>Addison-Wesley</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">Degrees of Causation</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Braham</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Van Hees</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Erkenntnis</title>
		<imprint>
			<biblScope unit="volume">71</biblScope>
			<biblScope unit="page" from="323" to="344" />
			<date type="published" when="2009" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<analytic>
		<title level="a" type="main">Why and Where: A Characterization of Data Provenance</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">P</forename><surname>Buneman</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Khanna</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><forename type="middle">C</forename><surname>Tan</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ICDT</title>
		<meeting>ICDT</meeting>
		<imprint>
			<date type="published" when="2001" />
			<biblScope unit="page" from="316" to="330" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b3">
	<monogr>
				<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">P</forename><surname>Buneman</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><forename type="middle">C</forename><surname>Tan</surname></persName>
		</author>
		<title level="m">Provenance in Databases. Proc. SIGMOD</title>
		<imprint>
			<date type="published" when="2007" />
			<biblScope unit="page" from="1171" to="1173" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<analytic>
		<title level="a" type="main">A Characterization of the Complexity of Resilience and Responsibility for Conjunctive Queries</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">F</forename><surname>Cibele</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><surname>Gatterbauer</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Immerman</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Meliou</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">PVLDB</title>
		<imprint>
			<biblScope unit="issue">3</biblScope>
			<biblScope unit="page">9</biblScope>
			<date type="published" when="2016" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<analytic>
		<title level="a" type="main">Causality and the Semantics of Provenance</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Cheney</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. of the Workshop on Developments in Computational Models</title>
		<meeting>of the Workshop on Developments in Computational Models</meeting>
		<imprint>
			<date type="published" when="2010" />
			<biblScope unit="page" from="63" to="74" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<analytic>
		<title level="a" type="main">Responsibility and Blame: A StructuralModel Approach</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><surname>Chockler</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">Y</forename><surname>Halpern</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of Artificial Intelligence Research (JAIR)</title>
		<imprint>
			<biblScope unit="volume">22</biblScope>
			<biblScope unit="page" from="93" to="115" />
			<date type="published" when="2004" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<analytic>
		<title level="a" type="main">Tracing the Lineage of View Data in a Warehousing Environment</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Cui</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Widom</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">L</forename><surname>Wiener</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">ACM Transactions on Database Systems (TODS)</title>
		<imprint>
			<biblScope unit="volume">25</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="179" to="227" />
			<date type="published" when="2000" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">Quantifying causal influences</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Janzing</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Balduzzi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Grosse-Wentrup</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Schlkopf</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">The Annals of Statistics</title>
		<imprint>
			<biblScope unit="volume">41</biblScope>
			<biblScope unit="issue">5</biblScope>
			<biblScope unit="page" from="2324" to="2358" />
			<date type="published" when="2013" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title/>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Suciu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Olteanu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Re</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><forename type="middle">Probabilistic</forename><surname>Koch</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><surname>Databases</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Synthesis Lectures on Data Management</title>
		<imprint>
			<date type="published" when="2011" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<analytic>
		<title level="a" type="main">Spreading the Blame: The Allocation of Responsibility Amongst Multiple Agents</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><surname>Gerstenberg</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Lagnado</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Cognition</title>
		<imprint>
			<biblScope unit="volume">115</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="166" to="171" />
			<date type="published" when="2010" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<monogr>
				<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">Y</forename><surname>Halpern</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><surname>Cause</surname></persName>
		</author>
		<title level="m">Responsibility and Blame: A Structural-Model Approach. Law, Probability and Risk</title>
		<imprint>
			<date type="published" when="2015" />
			<biblScope unit="volume">14</biblScope>
			<biblScope unit="page" from="91" to="118" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b12">
	<monogr>
		<title level="m" type="main">Causes and Explanations: A StructuralModel Approach: Part 1. The British Journal for the Philosophy of Science</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">Y</forename><surname>Halpern</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Pearl</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2005" />
			<biblScope unit="volume">56</biblScope>
			<biblScope unit="page" from="843" to="887" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b13">
	<analytic>
		<title level="a" type="main">Querying Data Provenance</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><surname>Karvounarakis</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Z</forename><forename type="middle">G</forename><surname>Ives</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">V</forename><surname>Tannen</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. SIGMOD</title>
		<meeting>SIGMOD</meeting>
		<imprint>
			<date type="published" when="2010" />
			<biblScope unit="page" from="951" to="962" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<analytic>
		<title level="a" type="main">Bringing Provenance to its Full Potential Using Causal Reasoning</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Meliou</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><surname>Gatterbauer</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Suciu</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. Theory and Practice of Provenance (TaPP)</title>
		<meeting>Theory and Practice of Provenance (TaPP)</meeting>
		<imprint>
			<date type="published" when="2011" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<analytic>
		<title level="a" type="main">The Complexity of Causality and Responsibility for Query Answers and Non-Answers</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Meliou</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><surname>Gatterbauer</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><forename type="middle">F</forename><surname>Moore</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Suciu</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. VLDB</title>
		<meeting>VLDB</meeting>
		<imprint>
			<date type="published" when="2010" />
			<biblScope unit="page" from="34" to="41" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b16">
	<monogr>
		<title level="m" type="main">Causality: Models, Reasoning and Inference</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Pearl</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2009" />
			<publisher>Cambridge University Press</publisher>
		</imprint>
	</monogr>
	<note>Second ed.</note>
</biblStruct>

<biblStruct xml:id="b17">
	<monogr>
		<title level="m" type="main">Query-Answer Causality in Databases and its Connections with Reverse Reasoning Tasks in Data and Knowledge Management</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Salimi</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2015" />
		</imprint>
	</monogr>
<note type="report_type">PhD thesis</note>
	<note>Posted at</note>
</biblStruct>

<biblStruct xml:id="b18">
	<analytic>
		<title level="a" type="main">From Causes for Database Queries to Repairs and Model-Based Diagnosis and Back</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Salimi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Bertossi</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ICDT</title>
		<meeting>ICDT</meeting>
		<imprint>
			<date type="published" when="2015" />
			<biblScope unit="page" from="342" to="362" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b19">
	<analytic>
		<title level="a" type="main">Query-Answer Causality in Databases: Abductive Diagnosis and View-Updates</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Salimi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Bertossi</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. UAI&apos;15 Causal Inference Workshop</title>
		<meeting>UAI&apos;15 Causal Inference Workshop</meeting>
		<imprint>
			<date type="published" when="2015" />
			<biblScope unit="volume">1504</biblScope>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b20">
	<analytic>
		<title level="a" type="main">Causes for Query Answers from Databases, Datalog Abduction and View-Updates: The Presence of Integrity Constraints</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Salimi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Bertossi</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Proc. FLAIRS</title>
		<imprint>
			<date type="published" when="2016" />
		</imprint>
	</monogr>
	<note>To appear in</note>
</biblStruct>

<biblStruct xml:id="b21">
	<analytic>
		<title level="a" type="main">Once More Into the Bramble Bush: Duty, Causal Contribution, and the Extent of Legal Responsibility</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><forename type="middle">W</forename><surname>Wright</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Vanderbilt Law Review</title>
		<imprint>
			<biblScope unit="volume">54</biblScope>
			<biblScope unit="issue">3</biblScope>
			<biblScope unit="page" from="1071" to="1132" />
			<date type="published" when="2001" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b22">
	<analytic>
		<title level="a" type="main">Finding Fault: Causality and Counterfactuals in Group Attributions</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Zultan</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><surname>Gerstenberg</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Lagnado</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Cognition</title>
		<imprint>
			<biblScope unit="volume">125</biblScope>
			<biblScope unit="issue">3</biblScope>
			<biblScope unit="page" from="429" to="440" />
			<date type="published" when="2013" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
